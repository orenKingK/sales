.toolbarTitle {
    --background: var(--ion-background-color, #fff);
    --backdrop-filter: blur(10px);
    --min-height: 60px;
}

.backButton {
    color: #333;
    background: rgba(0, 0, 0, 0.05);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    margin-left: 8px;
}

.brandHeader {
    display: flex;
    align-items: center;
    gap: 12px;
}

.brandLogo {
    height: 32px;
    max-width: 80px;
    object-fit: contain;
}

.brandInfo {
    padding-right: 8px;
    border-right: 1px solid #eee;
}

.brandName {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--ion-text-color, #333);
}

.brandCount {
    font-size: 0.7rem;
    color: var(--ion-color-medium, #666);
}

.filterToolbar {
    --background: var(--ion-background-color, #fff);
    --min-height: auto;
    padding: 0 8px 8px 8px;
}

.controlsContainer {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.segment {
    --background: var(--ion-color-light, #f4f4f4);
    border-radius: 12px;
    min-height: 40px;
    width: 100%;
    /* Ensure it spans full width to allow internal scrolling */
    display: flex;
    /* Fix for some flex issues */
}

.searchSortRow {
    display: flex;
    align-items: center;
    width: 100%;
    margin-top: 8px;
    background: var(--ion-card-background, #ffffff);
    border-radius: 50px;
    /* Full pill shape */
    padding: 2px 4px 2px 2px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    /* Premium shadow */
    border: 1px solid rgba(0, 0, 0, 0.02);
    /* Ensure it doesn't overflow screen */
    box-sizing: border-box;
    max-width: 100%;
}

.searchbar {
    direction: rtl;
    flex-grow: 1;
    padding: 0 !important;
    --background: transparent;
    --box-shadow: none;
    --placeholder-color: #888;
    --icon-color: #333;
    margin: 0;
    height: 44px;
    /* Standard visible height */
    font-size: 0.9rem;
    /* Smaller text */
    min-width: 0;
    /* Allow shrinking for responsiveness */
}

/* Fix for Ionic searchbar internal padding and text alignment */
.searchbar :global(.searchbar-input-container) {
    height: 100%;
}

.searchbar :global(input) {
    font-size: 0.9rem !important;
}

.sortButton {
    --background: transparent;
    --color: var(--ion-text-color, #333);
    width: 44px !important;
    height: 44px !important;
    margin: 0;
    --box-shadow: none;
    font-size: 1.2rem;
    position: relative;
}

/* Optional vertical divider */
.sortButton::before {
    content: '';
    position: absolute;
    right: 0;
    top: 10px;
    bottom: 10px;
    width: 1px;
    background-color: #eee;
}

.popoverOption {
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
}

.popoverOptionSelected {
    background: var(--ion-color-light, #f0f9ff);
    color: var(--ion-color-primary, #007aff);
    font-weight: 700;
}

.popoverOptionDefault {
    background: transparent;
    color: var(--ion-text-color, #333);
    font-weight: 400;
}

.popoverContainer {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.pageContent {
    --background: var(--ion-background-color, #f8f9fa);
}

.productCol {
    margin-bottom: 20px;
    /* ion-margin-bottom substitute */
}

/* Product Card - duplicated from BrandCard styles or shared? 
   Ideally separate component like ProductCard, but logic is inline in BrandDetails in original code.
   I should extract it to ProductCard component for modularity as requested "make the code modular".
   The original code had ProductCard inside BrandDetails map. 
   I'll extract the inline styles here for now, but creating a ProductCard component would be better.
   Given the instruction "make the code modular", I really should create a ProductCard.tsx. 
*/

.productCard {
    height: 100%;
    margin: 4px;
    border-radius: 12px;
    background: var(--ion-card-background, #fff);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
    border: 1px solid rgba(0, 0, 0, 0.03);
    overflow: hidden;
}

.productImageContainer {
    position: relative;
    padding-top: 133%;
    /* 3:4 Aspect Ratio */
}

.productImage {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.discountBadge {
    position: absolute;
    top: 10px;
    left: 10px;
    background: #10b981;
    /* Positive Emerald Green */
    color: white;
    font-size: 0.85rem;
    font-weight: 800;
    padding: 6px 10px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(16, 185, 129, 0.4);
    z-index: 2;
    letter-spacing: 0.5px;
    transform: rotate(-2deg);
}

.genderBadge {
    position: absolute;
    bottom: 8px;
    right: 8px;
    background: rgba(255, 255, 255, 0.85);
    color: #333;
    font-size: 0.65rem;
    font-weight: 600;
    padding: 4px 8px;
    border-radius: 8px;
    backdrop-filter: blur(4px);
}

.productInfo {
    padding: 12px;
}

.productName {
    font-size: 0.85rem;
    color: var(--ion-text-color, #1c1c1e);
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 4px;
}

.priceRow {
    display: flex;
    align-items: baseline;
    gap: 6px;
}

.salePrice {
    font-size: 1.0rem;
    /* Smaller to feel "cheaper" */
    font-weight: 500;
    /* Regular weight */
    color: #059669;
    /* Darker Emerald */
}

.normalPrice {
    font-size: 1.1rem;
    font-weight: 800;
    color: var(--ion-text-color, #000);
}

.originalPrice {
    font-size: 1.2rem;
    /* Bigger as anchor */
    font-weight: 700;
    /* Bold */
    text-decoration: line-through;
    color: #8e8e93;
}

.categoryScroll {
    display: flex;
    overflow-x: auto;
    padding: 10px 4px;
    gap: 8px;
    scrollbar-width: none;
    -ms-overflow-style: none;
    width: 100%;
}

.categoryScroll::-webkit-scrollbar {
    display: none;
}